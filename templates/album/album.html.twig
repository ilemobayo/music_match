{% extends "layout.html.twig" %}

{% block title  album.name ~ ' - ' ~ album.artists[0].name  %}

{% block content %}
    <div class="wrapper">
        <div class="page-header page-header-xs" style="background-image: url('{{ album.images[0].url }}')">
            <div class="filter">
            </div>
        </div>
        <div class="container mt-5">
            <div class="row">
                <div class="col-sm-4">
                    <div>
                        <img src="{{ album.images[1].url }}" alt="" class="img-fluid">
                    </div>
                    <h3><strong>{{ album.name }}</strong></h3>
                    <h4>
                        {% for artist in album.artists %}
                            <a href="{{ path('showArtist', {'id_artist' : artist.id}) }}" class="link-music">
                                {% if not loop.last %}
                                    {{ artist.name }},
                                {% else %}
                                    {{ artist.name }}
                                {% endif %}
                            </a>
                        {% endfor %}
                    </h4>
                    <small>{{ album.label }}</small>
                    <p class="mt-2">{{ album.tracks.items|length }} Morceaux </p>
                    <p>Sortie : {{ album.release_date|date('d-m-Y')  }}</p>
                </div>
                <div class="col-sm-8">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th colspan="2">#</th>
                                <th>Titre</th>
                                <th>dur√©e</th>
                                <th class="text-center">Ajouter</th>
                            </tr>
                        </thead>
                        <tbody>
                        {% for track in album.tracks.items %}
                            <tr>
                                <td>{{ track.track_number  }}</td>
                                <td>
                                    <button class="play"><i class="fa fa-play-circle fa-lg" aria-hidden="true"></i></button>
                                    <audio >
                                        <source src="{{ track.preview_url }}" type="audio/mp3">
                                        Your browser does not support the audio element.
                                    </audio>
                                </td>
                                <td>{{ track.name  }}</td>
                                <td>{{ ( track.duration_ms//1000 )|date('i:s') }}</td>
                                <td class="text-center"><button class="addToLibrary" data-id="{{ track.id }}"><i class="fa fa-plus" aria-hidden="true"></i></button></td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock %}